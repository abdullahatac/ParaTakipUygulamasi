package com.example.myapplication;

import android.app.DatePickerDialog;
import android.os.Bundle;
import android.view.Gravity;
import android.widget.Button;
import android.widget.EditText;
import android.widget.LinearLayout;
import android.widget.TextView;
import android.widget.Toast;

import androidx.appcompat.app.AppCompatActivity;

import java.util.ArrayList;
import java.util.Calendar;

public class MainActivity extends AppCompatActivity {

    EditText etDescription, etAmount;
    Button btnAdd, btnDate;
    LinearLayout listLayout;
    TextView tvTotal, tvBottomCounter;

    ArrayList<Expense> expenseList = new ArrayList<>();
    int year, month, day;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        etDescription = findViewById(R.id.etDescription);
        etAmount = findViewById(R.id.etAmount);
        btnAdd = findViewById(R.id.btnAdd);
        btnDate = findViewById(R.id.btnDate);
        listLayout = findViewById(R.id.listLayout);
        tvTotal = findViewById(R.id.tvTotal);
        tvBottomCounter = findViewById(R.id.tvBottomCounter);

        Calendar c = Calendar.getInstance();
        year = c.get(Calendar.YEAR);
        month = c.get(Calendar.MONTH);
        day = c.get(Calendar.DAY_OF_MONTH);

        btnDate.setText(day + "/" + (month + 1) + "/" + year);

        btnDate.setOnClickListener(v -> openDatePicker());
        btnAdd.setOnClickListener(v -> addExpense());

        calculateTotal();
    }

    private void openDatePicker() {
        new DatePickerDialog(this, (view, y, m, d) -> {
            year = y;
            month = m;
            day = d;
            btnDate.setText(d + "/" + (m + 1) + "/" + y);
            calculateTotal();
        }, year, month, day).show();
    }

    private void addExpense() {
        String desc = etDescription.getText().toString().trim();
        String amountText = etAmount.getText().toString().trim();

        if (desc.isEmpty() || amountText.isEmpty()) {
            Toast.makeText(this, "Alanlar boş olamaz", Toast.LENGTH_SHORT).show();
            return;
        }

        double amount;
        try {
            amount = Double.parseDouble(amountText);
            if (amount <= 0) {
                Toast.makeText(this, "Tutar pozitif olmalı", Toast.LENGTH_SHORT).show();
                return;
            }
        } catch (NumberFormatException e) {
            Toast.makeText(this, "Geçersiz tutar", Toast.LENGTH_SHORT).show();
            return;
        }

        Expense expense = new Expense(desc, amount, year, month, day);
        expenseList.add(expense);

        calculateTotal();

        etDescription.setText("");
        etAmount.setText("");
    }

    private void calculateTotal() {
        double selectedDayTotal = 0;
        double monthToDayTotal = 0;

        listLayout.removeAllViews();

        for (Expense e : expenseList) {

            // Seçili gün
            if (e.isSameDay(year, month, day)) {
                selectedDayTotal += e.amount;
                addExpenseView(e);
            }

            // Ay başından seçili güne kadar
            if (e.year == year && e.month == month && e.day <= day) {
                monthToDayTotal += e.amount;
            }
        }

        tvTotal.setText("Toplam: " + selectedDayTotal + " ₺");
        tvBottomCounter.setText("Ay Başından Toplam: " + monthToDayTotal + " ₺");
    }

    private void addExpenseView(Expense e) {
        LinearLayout row = new LinearLayout(this);
        row.setOrientation(LinearLayout.HORIZONTAL);
        row.setPadding(12, 12, 12, 12);

        TextView t1 = new TextView(this);
        t1.setText(e.description);
        t1.setTextSize(18); // ✅ açıklama fontu büyütüldü
        t1.setLayoutParams(new LinearLayout.LayoutParams(
                0, LinearLayout.LayoutParams.WRAP_CONTENT, 1));

        TextView t2 = new TextView(this);
        t2.setText(e.amount + " ₺");
        t2.setTextSize(18); // ✅ tutar fontu büyütüldü
        t2.setGravity(Gravity.END);

        row.addView(t1);
        row.addView(t2);

        listLayout.addView(row);
    }
}

## expense java kodlari

package com.example.myapplication;

public class Expense {
    String description;
    double amount;
    int year, month, day;

    public Expense(String description, double amount, int year, int month, int day) {
        this.description = description;
        this.amount = amount;
        this.year = year;
        this.month = month;
        this.day = day;
    }

    public boolean isSameDay(int y, int m, int d) {
        return year == y && month == m && day == d;
    }
}

## xml kodlari


<?xml version="1.0" encoding="utf-8"?>
<FrameLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent">

    <!-- ARKA PLAN GÖRSEL -->
    <ImageView
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:src="@drawable/ekonomo"
        android:scaleType="centerCrop" />

    <!-- İÇERİK -->
    <ScrollView
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:padding="16dp"
            android:background="#AAFFFFFF">

            <TextView
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Günlük Para Takibi"
                android:textSize="22sp"
                android:textStyle="bold"
                android:layout_gravity="center"
                android:layout_marginBottom="12dp" />

            <Button
                android:id="@+id/btnDate"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Tarih Seç"
                android:backgroundTint="#2196F3"
                android:textColor="#FFFFFF" />

            <EditText
                android:id="@+id/etDescription"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:hint="Harcama açıklaması"
                android:layout_marginTop="8dp"
                android:padding="12dp" />

            <EditText
                android:id="@+id/etAmount"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:hint="Tutar (₺)"
                android:inputType="numberDecimal"
                android:layout_marginTop="8dp"
                android:padding="12dp" />

            <Button
                android:id="@+id/btnAdd"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Harcama Ekle"
                android:layout_marginTop="12dp"
                android:backgroundTint="#4CAF50"
                android:textColor="#FFFFFF" />

            <TextView
                android:id="@+id/tvTotal"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Toplam: 0 ₺"
                android:textSize="18sp"
                android:textStyle="bold"
                android:layout_marginTop="16dp" />

            <LinearLayout
                android:id="@+id/listLayout"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:layout_marginTop="12dp" />

            <TextView
                android:id="@+id/tvBottomCounter"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Ay Başından Toplam: 0 ₺"
                android:textSize="20sp"
                android:textStyle="bold"
                android:textColor="#FFFFFF"
                android:background="#CC000000"
                android:gravity="center"
                android:padding="16dp"
                android:layout_marginTop="16dp" />

        </LinearLayout>
    </ScrollView>

</FrameLayout>
